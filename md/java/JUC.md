# JUC包

### 概念
1. 进程
   1. 广义：进程是正在运行的程序的实例
   2. 狭义：进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。它是操作系统动态执行的基本单元，在传统的操作系统中，进程既是基本的分配单元，也是基本的执行单元
2. 线程：操作系统能够进行运算调度的最小单位。它被包含在进程之 中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流， 一个进程中可以并发多个线程，每条线程并行执行不同的任务
3. 串行：即表示所有任务都是按先后顺序进行。串行是一次只能取的一个任务，并执行这个任务
4. 并行：并行意味着可以同时取得多个任务，并同时去执行所取得的这些任务
5. 并发：在同一个时间段内，两个或多个程序执行，有时间上的重叠(宏观上是同时,微观上仍是顺序执行)
6. 用户线程：指不需要内核支持而在用户程序中实现的线程，其不依赖于操作系统核心，应用进程利用线程库提供创建、同步、调度和管理线程的函数来控制用户线程
7. 守护线程：是指在程序运行的时候在后台提供一种通用服务的线程，用来服务于用户线程
8. 锁
   1. 可重入锁：同一个线程可多次获得同一个锁 
   2. 可中断锁：在等待获取锁过程中可中断 
   3. 公平锁： 先申请获取的锁的线程先获得锁
   4. 读写锁：多个线程并发读，仅一个线程同步写

### JUC包源码地址：md/java/源码/java/util/concurrent
### AQS

1. 描述：Abstract Queued Synchronizer，抽象队列同步器
2. 实现原理：
    1. AQS维护了volatile变量state，代表了加锁的状态，初始值为0；另外一个变量node，保存了当前持有锁的线程，默认为null
    2. 当thread1尝试获取锁
        1. 如果当前锁没有被占用，通过CAS修改state=1,node.thread=thread1
        2. 如果当前锁已经被使用，不同的锁有不同的实现
            1. 可重入锁判断是否当前线程持有锁，若是，通过CAS增加state的值；若否，则加入等待队列
            2. 不可重入锁？？？
    3. 当持有锁的线程释放锁，将唤醒队列中的下一个节点
3. 非公平锁：线程想要获取锁的时候，不判断是否有线程正在队列中排队，而是直接尝试通过CAS加锁
4. 公平锁：线程想要获取锁的时候，判断是否有线程正在队列中排队，如果有线程正在等待，不会尝试获取锁而是到CLH队列尾部进行排队
5. 独占锁
6. 共享锁
7. 源码
### CLH队列

### JUC包

1. 锁
2. 信号量
3. CountDownLatch和CyclicBarrier